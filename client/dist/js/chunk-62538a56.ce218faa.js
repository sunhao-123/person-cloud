(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-62538a56"],{1276:function(t,e,n){"use strict";var a=n("d784"),r=n("44e7"),i=n("825a"),l=n("1d80"),s=n("4840"),o=n("8aa5"),c=n("50c4"),u=n("14c3"),h=n("9263"),f=n("d039"),d=[].push,p=Math.min,g=4294967295,v=!f((function(){return!RegExp(g,"y")}));a("split",2,(function(t,e,n){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var a=String(l(this)),i=void 0===n?g:n>>>0;if(0===i)return[];if(void 0===t)return[a];if(!r(t))return e.call(a,t,i);var s,o,c,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,f+"g");while(s=h.call(v,a)){if(o=v.lastIndex,o>p&&(u.push(a.slice(p,s.index)),s.length>1&&s.index<a.length&&d.apply(u,s.slice(1)),c=s[0].length,p=o,u.length>=i))break;v.lastIndex===s.index&&v.lastIndex++}return p===a.length?!c&&v.test("")||u.push(""):u.push(a.slice(p)),u.length>i?u.slice(0,i):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var r=l(this),i=void 0==e?void 0:e[t];return void 0!==i?i.call(e,r,n):a.call(String(r),e,n)},function(t,r){var l=n(a,t,this,r,a!==e);if(l.done)return l.value;var h=i(t),f=String(this),d=s(h,RegExp),m=h.unicode,b=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(v?"y":"g"),w=new d(v?h:"^(?:"+h.source+")",b),S=void 0===r?g:r>>>0;if(0===S)return[];if(0===f.length)return null===u(w,f)?[f]:[];var y=0,L=0,_=[];while(L<f.length){w.lastIndex=v?L:0;var x,T=u(w,v?f:f.slice(L));if(null===T||(x=p(c(w.lastIndex+(v?0:L)),f.length))===y)L=o(f,L,m);else{if(_.push(f.slice(y,L)),_.length===S)return _;for(var k=1;k<=T.length-1;k++)if(_.push(T[k]),_.length===S)return _;L=y=x}}return _.push(f.slice(y)),_}]}),!v)},"159b":function(t,e,n){var a=n("da84"),r=n("fdbc"),i=n("17c2"),l=n("9112");for(var s in r){var o=a[s],c=o&&o.prototype;if(c&&c.forEach!==i)try{l(c,"forEach",i)}catch(u){c.forEach=i}}},"17c2":function(t,e,n){"use strict";var a=n("b727").forEach,r=n("a640"),i=n("ae40"),l=r("forEach"),s=i("forEach");t.exports=l&&s?[].forEach:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}},"1dde":function(t,e,n){var a=n("d039"),r=n("b622"),i=n("2d00"),l=r("species");t.exports=function(t){return i>=51||!a((function(){var e=[],n=e.constructor={};return n[l]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"1e25":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableboxtop50"},[n("div",{staticClass:"searchBar"},[n("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"timestamp",size:"small"},model:{value:t.searchDate,callback:function(e){t.searchDate=e},expression:"searchDate"}}),n("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.nowStation,callback:function(e){t.nowStation=e},expression:"nowStation"}},t._l(t.station,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),n("el-button",{staticClass:"searchBtn",attrs:{type:"primary",round:"",size:"small"},on:{click:t.handleSearch}},[t._v("搜索")]),n("div",{staticClass:"filterBox"},[n("el-input",{attrs:{size:"small",placeholder:"输入订单号筛选"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.list.filter((function(e){return!t.search||e.orderNum.toLowerCase().includes(t.search.toLowerCase())})),height:t.height}},[n("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",width:"50"}}),n("el-table-column",{attrs:{label:"XML文件唯一标识",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.XID)+" ")]}}])}),n("el-table-column",{attrs:{label:"工厂代码",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Plant)+" ")]}}])}),n("el-table-column",{attrs:{label:"订单号",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.orderNum)+" ")]}}])}),n("el-table-column",{attrs:{label:"Family",width:"90"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Family)+" ")]}}])}),n("el-table-column",{attrs:{label:"VIN",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.VIN)+" ")]}}])}),n("el-table-column",{attrs:{label:"Sequence",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.PlanCurSeq)+" ")]}}])}),n("el-table-column",{attrs:{label:"CarSet",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.CarSet)+" ")]}}])}),n("el-table-column",{attrs:{label:"blgroup",width:"110"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.Part_blgroup)+" ")]}}])}),n("el-table-column",{attrs:{label:"BOM清单",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-popover",{attrs:{trigger:"hover",placement:"top"}},[n("p",{domProps:{innerHTML:t._s(t.formatBoms(e.row.Part_LearId,e.row.Part_Qty))}}),n("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[n("el-tag",{attrs:{size:"medium"}},[t._v("查看BOM清单（"+t._s(t.getcount(e.row.Part_Qty))+"件）")])],1)])]}}])}),n("el-table-column",{attrs:{label:"创建时间",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.creatTime))+" ")]}}])}),n("el-table-column",{attrs:{label:"是否完成",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-tag",{attrs:{type:e.row.isFinish?"success":"warning","disable-transitions":"",size:"medium"}},[t._v(t._s(e.row.isFinish?"已完成":"未完成"))])]}}])}),n("el-table-column",{attrs:{label:"完成时间","min-width":"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.updateTime))+" ")]}}])})],1),n("el-pagination",{staticClass:"page",attrs:{background:"","page-size":50,layout:"total, prev, pager, next, jumper",total:t.alldata,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1)},r=[],i=(n("99af"),n("4160"),n("ac1f"),n("1276"),n("159b"),n("365c")),l=n("e3c6"),s=n.n(l),o={name:"TaskView",data:function(){return{PnNameList:{},nowStation:"工位：1",lastStation:"工位：1",station:[{value:"工位：1",label:"工位：1"},{value:"工位：2",label:"工位：2"},{value:"工位：3",label:"工位：3"}],searchDate:[(new Date).getTime(),(new Date).getTime()],lastsearchDate:[(new Date).getTime(),(new Date).getTime()],alldata:5e3,page:1,list:[],search:"",fullHeight:document.documentElement.clientHeight,height:document.documentElement.clientHeight-195,loading:!1,schedule:null}},watch:{fullHeight:function(t){if(!this.timer){this.fullHeight=t,this.timer=!0;var e=this;setTimeout((function(){e.timer=!1}),400)}this.height=this.fullHeight-195},page:function(t){this.$refs.table.bodyWrapper.scrollTop=0}},methods:{handleSearch:function(){var t=this;this.lastsearchDate=this.searchDate,this.lastStation=this.nowStation,this.page=1,this.getTaskList(1,this.lastsearchDate,this.lastStation),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){t.getTaskList(1,t.lastsearchDate,t.lastStation)}),3e4)},handleCurrentChange:function(t){var e=this;this.page=t,this.getTaskList1(t,this.lastsearchDate,this.lastStation),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){e.getTaskList1(t,e.lastsearchDate,e.lastStation)}),3e4)},formatTime:function(t){var e=new Date(t).getTime(),n="";return e>0&&(n=s()("YYYY-MM-DD HH:mm:ss",e-288e5)),n},formatBoms:function(t,e){var n=this,a="",r=t.split(","),i=e.split(",");return r.forEach((function(t,e){a+="<p>".concat(e+1<10?"0"+(e+1):e+1,". &nbsp;").concat(t," * ").concat(i[e],'个<span style="padding-left:20px;float: right;width: 180px;">').concat(n.PnNameList[t]?n.PnNameList[t]:"","</span></p>")})),a},getcount:function(t){var e=t.split(","),n=0;return e.forEach((function(t){n+=1*t})),n},getTime:function(t){return s()("YYYY-MM-DD hh:mm:ss",t)},indexMethod:function(t){return t+1+50*(this.page-1)},getTaskList1:function(t,e,n){var a=this;this.loading=!0,Object(i["l"])({from:50*(t-1),dateArr:e,station:n}).then((function(t){a.list=t.data.data,a.loading=!1}))},getTaskList:function(t,e,n){var a=this;this.loading=!0,Object(i["k"])({dateArr:e,station:n}).then((function(r){0===r.data.code&&(a.alldata=r.data.num,Object(i["l"])({from:50*(t-1),dateArr:e,station:n}).then((function(t){a.list=t.data.data,a.loading=!1})))}))}},mounted:function(){var t=this,e=this;window.onresize=function(){return function(){window.fullHeight=document.documentElement.clientHeight,e.fullHeight=window.fullHeight}()},this.height=this.fullHeight-195,Object(i["h"])().then((function(e){0===e.data.code&&(t.PnNameList=e.data.data),t.getTaskList(1,t.searchDate,t.nowStation)})).catch((function(e){console.log(e),t.getTaskList(1,t.searchDate,t.nowStation)})),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){t.getTaskList(1,t.searchDate,t.nowStation)}),3e4)},beforeRouteLeave:function(t,e,n){clearInterval(this.schedule),this.schedule=null,n()}},c=o,u=(n("aa32"),n("2877")),h=Object(u["a"])(c,a,r,!1,null,"5b2995fa",null);e["default"]=h.exports},4160:function(t,e,n){"use strict";var a=n("23e7"),r=n("17c2");a({target:"Array",proto:!0,forced:[].forEach!=r},{forEach:r})},"44e7":function(t,e,n){var a=n("861d"),r=n("c6b6"),i=n("b622"),l=i("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[l])?!!e:"RegExp"==r(t))}},"65f0":function(t,e,n){var a=n("861d"),r=n("e8b5"),i=n("b622"),l=i("species");t.exports=function(t,e){var n;return r(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!r(n.prototype)?a(n)&&(n=n[l],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},8418:function(t,e,n){"use strict";var a=n("c04e"),r=n("9bf2"),i=n("5c6c");t.exports=function(t,e,n){var l=a(e);l in t?r.f(t,l,i(0,n)):t[l]=n}},"99af":function(t,e,n){"use strict";var a=n("23e7"),r=n("d039"),i=n("e8b5"),l=n("861d"),s=n("7b0b"),o=n("50c4"),c=n("8418"),u=n("65f0"),h=n("1dde"),f=n("b622"),d=n("2d00"),p=f("isConcatSpreadable"),g=9007199254740991,v="Maximum allowed index exceeded",m=d>=51||!r((function(){var t=[];return t[p]=!1,t.concat()[0]!==t})),b=h("concat"),w=function(t){if(!l(t))return!1;var e=t[p];return void 0!==e?!!e:i(t)},S=!m||!b;a({target:"Array",proto:!0,forced:S},{concat:function(t){var e,n,a,r,i,l=s(this),h=u(l,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(i=-1===e?l:arguments[e],w(i)){if(r=o(i.length),f+r>g)throw TypeError(v);for(n=0;n<r;n++,f++)n in i&&c(h,f,i[n])}else{if(f>=g)throw TypeError(v);c(h,f++,i)}return h.length=f,h}})},a057:function(t,e,n){},a640:function(t,e,n){"use strict";var a=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&a((function(){n.call(null,e||function(){throw 1},1)}))}},aa32:function(t,e,n){"use strict";var a=n("a057"),r=n.n(a);r.a},ae40:function(t,e,n){var a=n("83ab"),r=n("d039"),i=n("5135"),l=Object.defineProperty,s={},o=function(t){throw t};t.exports=function(t,e){if(i(s,t))return s[t];e||(e={});var n=[][t],c=!!i(e,"ACCESSORS")&&e.ACCESSORS,u=i(e,0)?e[0]:o,h=i(e,1)?e[1]:void 0;return s[t]=!!n&&!r((function(){if(c&&!a)return!0;var t={length:-1};c?l(t,1,{enumerable:!0,get:o}):t[1]=1,n.call(t,u,h)}))}},b727:function(t,e,n){var a=n("0366"),r=n("44ad"),i=n("7b0b"),l=n("50c4"),s=n("65f0"),o=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,h=6==t,f=5==t||h;return function(d,p,g,v){for(var m,b,w=i(d),S=r(w),y=a(p,g,3),L=l(S.length),_=0,x=v||s,T=e?x(d,L):n?x(d,0):void 0;L>_;_++)if((f||_ in S)&&(m=S[_],b=y(m,_,w),t))if(e)T[_]=b;else if(b)switch(t){case 3:return!0;case 5:return m;case 6:return _;case 2:o.call(T,m)}else if(u)return!1;return h?-1:c||u?u:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},e8b5:function(t,e,n){var a=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==a(t)}},fdbc:function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}}}]);