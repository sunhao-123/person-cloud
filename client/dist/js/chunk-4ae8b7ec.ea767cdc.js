(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ae8b7ec"],{"1dde":function(t,e,n){var i=n("d039"),a=n("b622"),s=n("2d00"),r=a("species");t.exports=function(t){return s>=51||!i((function(){var e=[],n=e.constructor={};return n[r]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,n){"use strict";var i=n("23e7"),a=n("b727").filter,s=n("1dde"),r=n("ae40"),o=s("filter"),l=r("filter");i({target:"Array",proto:!0,forced:!o||!l},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},"65f0":function(t,e,n){var i=n("861d"),a=n("e8b5"),s=n("b622"),r=s("species");t.exports=function(t,e){var n;return a(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!a(n.prototype)?i(n)&&(n=n[r],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===e?0:e)}},aaf2:function(t,e,n){},ae40:function(t,e,n){var i=n("83ab"),a=n("d039"),s=n("5135"),r=Object.defineProperty,o={},l=function(t){throw t};t.exports=function(t,e){if(s(o,t))return o[t];e||(e={});var n=[][t],c=!!s(e,"ACCESSORS")&&e.ACCESSORS,u=s(e,0)?e[0]:l,d=s(e,1)?e[1]:void 0;return o[t]=!!n&&!a((function(){if(c&&!i)return!0;var t={length:-1};c?r(t,1,{enumerable:!0,get:l}):t[1]=1,n.call(t,u,d)}))}},afb7:function(t,e,n){"use strict";var i=n("aaf2"),a=n.n(i);a.a},b727:function(t,e,n){var i=n("0366"),a=n("44ad"),s=n("7b0b"),r=n("50c4"),o=n("65f0"),l=[].push,c=function(t){var e=1==t,n=2==t,c=3==t,u=4==t,d=6==t,f=5==t||d;return function(h,w,m,p){for(var g,b,v=s(h),y=a(v),_=i(w,m,3),x=r(y.length),k=0,$=p||o,S=e?$(h,x):n?$(h,0):void 0;x>k;k++)if((f||k in y)&&(g=y[k],b=_(g,k,v),t))if(e)S[k]=b;else if(b)switch(t){case 3:return!0;case 5:return g;case 6:return k;case 2:l.call(S,g)}else if(u)return!1;return d?-1:c||u?u:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6)}},c712:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tableboxtop50"},[n("div",{staticClass:"searchBar"},[n("div",{staticClass:"filterBox"},[n("el-input",{attrs:{size:"small",placeholder:"输入用户名筛选"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)]),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:t.userList.filter((function(e){return!t.search||e.username.toLowerCase().includes(t.search.toLowerCase())})),height:t.height}},[n("el-table-column",{attrs:{label:"用户名",width:"500",prop:"username"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit&&0===e.row.UID?t._e():n("span",[t._v(t._s(e.row.username))]),e.row.edit&&0===e.row.UID?n("span",[t._v("用户名：")]):t._e(),e.row.edit&&0===e.row.UID?n("el-input",{staticStyle:{width:"36%"},attrs:{size:"small",placeholder:"请输入用户名"},model:{value:e.row.username,callback:function(n){t.$set(e.row,"username",n)},expression:"scope.row.username"}}):t._e(),e.row.edit&&0===e.row.UID?n("span",[t._v(" 密码：")]):t._e(),e.row.edit&&0===e.row.UID?n("el-input",{staticStyle:{width:"36%"},attrs:{size:"small",placeholder:"请输入密码"},model:{value:e.row.password,callback:function(n){t.$set(e.row,"password",n)},expression:"scope.row.password"}}):t._e()]}}])}),n("el-table-column",{attrs:{label:"管理员",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{disabled:!e.row.edit},on:{change:function(n){return t.adminChange(e.row)}},model:{value:e.row.isAdmin,callback:function(n){t.$set(e.row,"isAdmin",n)},expression:"scope.row.isAdmin"}})]}}])}),n("el-table-column",{attrs:{label:"     员工技能匹配"}},[n("el-table-column",{attrs:{label:"工位1",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{disabled:!e.row.edit||e.row.isAdmin},model:{value:e.row.station1,callback:function(n){t.$set(e.row,"station1",n)},expression:"scope.row.station1"}})]}}])}),n("el-table-column",{attrs:{label:"工位2",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{disabled:!e.row.edit||e.row.isAdmin},model:{value:e.row.station2,callback:function(n){t.$set(e.row,"station2",n)},expression:"scope.row.station2"}})]}}])}),n("el-table-column",{attrs:{label:"工位3",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-switch",{attrs:{disabled:!e.row.edit||e.row.isAdmin},model:{value:e.row.station3,callback:function(n){t.$set(e.row,"station3",n)},expression:"scope.row.station3"}})]}}])})],1),n("el-table-column",{attrs:{label:"操作",width:"215"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.edit?t._e():n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),e.row.edit&&0!==e.row.UID?n("el-button",{attrs:{size:"small"},on:{click:function(n){return t.handleCancel(e.$index,e.row)}}},[t._v("取消")]):t._e(),e.row.edit?n("el-button",{attrs:{size:"small",type:"success"},on:{click:function(n){return t.handleSave(e.$index,e.row)}}},[t._v("保存")]):t._e(),e.row.edit&&0!==e.row.UID?n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){return t.deleteOne(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}])}),n("el-table-column",{scopedSlots:t._u([{key:"header",fn:function(e){return[n("div",{staticClass:"btnBox"},[t.addflag?t._e():n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.adduser}},[t._v("增加用户")]),t.addflag?n("el-button",{attrs:{type:"primary",plain:"",size:"small"},on:{click:t.canceladd}},[t._v("取消增加")]):t._e()],1)]}}])})],1)],1)},a=[],s=(n("4de4"),n("365c")),r={name:"UserAdmin",components:{},data:function(){return{userList:[],search:"",addflag:!1,loading:!1,fullHeight:document.documentElement.clientHeight,height:document.documentElement.clientHeight-152}},watch:{fullHeight:function(t){if(!this.timer){this.fullHeight=t,this.timer=!0;var e=this;setTimeout((function(){e.timer=!1}),400)}this.height=this.fullHeight-152}},methods:{adminChange:function(t){t.isAdmin&&(t.station1=!0,t.station2=!0,t.station3=!0)},handleSave:function(t,e){var n=this;""===e.username?this.$notify({title:"提示",message:"请输入用户名！",type:"warning"}):""===e.password&&0===e.UID?this.$notify({title:"提示",message:"请输入密码！",type:"warning"}):e.station1||e.station2||e.station3?Object(s["s"])(e).then((function(t){0===t.data.code?(n.getUserList(),n.$notify({title:"成功",message:"修改数据成功！",type:"success"})):n.$notify({title:"失败",message:t.data.msg,type:"error"})})).catch((function(){n.$notify({title:"失败",message:res.data.msg,type:"error"})})):this.$notify({title:"提示",message:"请至少赋予一个用户权限！",type:"warning"})},deleteOne:function(t,e){var n=this;this.$confirm("即将删除该用户，是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){Object(s["a"])(e.UID,e.username).then((function(t){var e=t.data.code;0===e?(n.getUserList(),n.$notify({title:"成功",message:"删除成功",type:"success"})):n.$notify({title:"警告",message:t.data.msg,type:"warning"})})).catch((function(){n.$notify({title:"失败",message:res.data.msg,type:"error"})}))})).catch((function(){}))},handleEdit:function(t,e){e.edit=!e.edit},handleCancel:function(t,e){e.edit=!e.edit,this.getUserList()},getUserList:function(){var t=this;this.loading=!0,Object(s["m"])().then((function(e){t.addflag=!1,t.userList=JSON.parse(JSON.stringify(e.data.data)),t.loading=!1}))},adduser:function(){this.addflag=!0,this.userList.push({UID:0,edit:!0,isAdmin:!1,station1:!1,station2:!1,station3:!1,password:"",username:""})},canceladd:function(){this.addflag=!1,this.userList=this.userList.filter((function(t){return 0!==t.UID}))}},mounted:function(){var t=this;window.onresize=function(){return function(){window.fullHeight=document.documentElement.clientHeight,t.fullHeight=window.fullHeight}()},this.height=this.fullHeight-152,this.getUserList()}},o=r,l=(n("afb7"),n("2877")),c=Object(l["a"])(o,i,a,!1,null,"196bdd7d",null);e["default"]=c.exports},e8b5:function(t,e,n){var i=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==i(t)}}}]);