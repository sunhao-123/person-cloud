(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7faffc8e"],{"0644":function(t,e,a){"use strict";var n=a("4de7"),i=a.n(n);i.a},"4de7":function(t,e,a){},5319:function(t,e,a){"use strict";var n=a("d784"),i=a("825a"),l=a("7b0b"),r=a("50c4"),s=a("a691"),o=a("1d80"),c=a("8aa5"),u=a("14c3"),h=Math.max,d=Math.min,f=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,v=function(t){return void 0===t?t:String(t)};n("replace",2,(function(t,e,a,n){var m=n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,w=n.REPLACE_KEEPS_$0,b=m?"$":"$0";return[function(a,n){var i=o(this),l=void 0==a?void 0:a[t];return void 0!==l?l.call(a,i,n):e.call(String(i),a,n)},function(t,n){if(!m&&w||"string"===typeof n&&-1===n.indexOf(b)){var l=a(e,t,this,n);if(l.done)return l.value}var o=i(t),f=String(this),g="function"===typeof n;g||(n=String(n));var p=o.global;if(p){var y=o.unicode;o.lastIndex=0}var _=[];while(1){var D=u(o,f);if(null===D)break;if(_.push(D),!p)break;var R=String(D[0]);""===R&&(o.lastIndex=c(f,r(o.lastIndex),y))}for(var x="",k=0,E=0;E<_.length;E++){D=_[E];for(var T=String(D[0]),N=h(d(s(D.index),f.length),0),I=[],C=1;C<D.length;C++)I.push(v(D[C]));var L=D.groups;if(g){var H=[T].concat(I,N,f);void 0!==L&&H.push(L);var A=String(n.apply(void 0,H))}else A=S(T,f,N,I,L,n);N>=k&&(x+=f.slice(k,N)+A,k=N+T.length)}return x+f.slice(k)}];function S(t,a,n,i,r,s){var o=n+t.length,c=i.length,u=p;return void 0!==r&&(r=l(r),u=g),e.call(s,u,(function(e,l){var s;switch(l.charAt(0)){case"$":return"$";case"&":return t;case"`":return a.slice(0,n);case"'":return a.slice(o);case"<":s=r[l.slice(1,-1)];break;default:var u=+l;if(0===u)return e;if(u>c){var h=f(u/10);return 0===h?e:h<=c?void 0===i[h-1]?l.charAt(1):i[h-1]+l.charAt(1):e}s=i[u-1]}return void 0===s?"":s}))}}))},cd34:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tableboxtop50"},[a("div",{staticClass:"searchBar"},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"timestamp",size:"small"},model:{value:t.searchDate,callback:function(e){t.searchDate=e},expression:"searchDate"}}),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:t.nowStation,callback:function(e){t.nowStation=e},expression:"nowStation"}},t._l(t.station,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1),a("el-button",{staticClass:"searchBtn",attrs:{type:"primary",round:"",size:"small"},on:{click:t.handleSearch}},[t._v("搜索")]),a("div",{staticClass:"filterBox"},[a("el-input",{attrs:{size:"small",placeholder:"输入订单号筛选"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1)],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"table",staticStyle:{width:"100%"},attrs:{data:t.list.filter((function(e){return!t.search||e.orderNum.toLowerCase().includes(t.search.toLowerCase())})),height:t.height}},[a("el-table-column",{attrs:{type:"index",index:t.indexMethod,label:"序号",width:"50"}}),a("el-table-column",{attrs:{label:"补打订单号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.orderNum)+" ")]}}])}),a("el-table-column",{attrs:{label:"创建时间",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.creatTime))+" ")]}}])}),a("el-table-column",{attrs:{label:"是否重新拣选",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.needRestart?null:"info","disable-transitions":""}},[t._v(t._s(e.row.needRestart?"重新拣选":"无需拣选"))])]}}])}),a("el-table-column",{attrs:{label:"是否完成",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:e.row.isFinish?"success":"warning","disable-transitions":""}},[t._v(t._s(e.row.isFinish?"已完成":"未完成"))])]}}])}),a("el-table-column",{attrs:{label:"完成时间","min-width":"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.formatTime(e.row.updateTime))+" ")]}}])})],1),a("el-pagination",{staticClass:"page",attrs:{background:"","page-size":50,layout:"total, prev, pager, next, jumper",total:t.alldata,"current-page":t.page},on:{"current-change":t.handleCurrentChange}})],1)},i=[],l=(a("ac1f"),a("5319"),a("365c")),r=a("e3c6"),s=a.n(r),o={name:"LogView",data:function(){return{nowStation:"工位：1",lastStation:"工位：1",station:[{value:"工位：1",label:"工位：1"},{value:"工位：2",label:"工位：2"},{value:"工位：3",label:"工位：3"}],searchDate:[(new Date).getTime(),(new Date).getTime()],lastsearchDate:[(new Date).getTime(),(new Date).getTime()],alldata:5e3,page:1,list:[],search:"",fullHeight:document.documentElement.clientHeight,height:document.documentElement.clientHeight-195,loading:!1,schedule:null}},watch:{fullHeight:function(t){if(!this.timer){this.fullHeight=t,this.timer=!0;var e=this;setTimeout((function(){e.timer=!1}),400)}this.height=this.fullHeight-195},page:function(t){this.$refs.table.bodyWrapper.scrollTop=0}},methods:{handleSearch:function(){var t=this;this.lastsearchDate=this.searchDate,this.lastStation=this.nowStation,this.page=1,this.getReprintList(1,this.lastsearchDate,this.lastStation),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){t.getReprintList(1,t.lastsearchDate,t.lastStation)}),3e4)},handleCurrentChange:function(t){var e=this;this.page=t,this.getReprintList1(t,this.lastsearchDate,this.lastStation),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){e.getReprintList1(t,e.lastsearchDate,e.lastStation)}),3e4)},formatTime:function(t){var e=new Date(t).getTime(),a="";return e>0&&(a=s()("YYYY-MM-DD HH:mm:ss",e-288e5)),a},formatText:function(t){return t.replace("【INFO】",'<span style="color: #05C462">【INFO】</span>').replace("【ERROR】",'<span style="color: red">【ERROR】</span>').replace("【WARNING】",'<span style="color: orange">【WARNING】</span>').replace("【UNKNOWN】",'<span style="color: gray">【UNKNOWN】</span>')},getTime:function(t){return s()("YYYY-MM-DD hh:mm:ss",t)},indexMethod:function(t){return t+1+50*(this.page-1)},getReprintList1:function(t,e,a){var n=this;this.loading=!0,Object(l["i"])({from:50*(t-1),dateArr:e,station:a}).then((function(t){n.list=t.data.data,n.loading=!1}))},getReprintList:function(t,e,a){var n=this;this.loading=!0,Object(l["j"])({dateArr:e,station:a}).then((function(i){0===i.data.code&&(n.alldata=i.data.num,Object(l["i"])({from:50*(t-1),dateArr:e,station:a}).then((function(t){n.list=t.data.data,n.loading=!1})))}))}},mounted:function(){var t=this,e=this;window.onresize=function(){return function(){window.fullHeight=document.documentElement.clientHeight,e.fullHeight=window.fullHeight}()},this.height=this.fullHeight-195,this.getReprintList(1,this.searchDate,this.nowStation),clearInterval(this.schedule),this.schedule=null,this.schedule=setInterval((function(){t.getReprintList(1,t.searchDate,t.nowStation)}),3e4)},beforeRouteLeave:function(t,e,a){clearInterval(this.schedule),this.schedule=null,a()}},c=o,u=(a("0644"),a("2877")),h=Object(u["a"])(c,n,i,!1,null,"d5c9d336",null);e["default"]=h.exports}}]);